<div class="modal-backdrop fade show" *ngIf="visible"></div>

<div class="modal fade show d-block" tabindex="-1" *ngIf="visible" role="dialog">
  <div class="modal-dialog modal-lg modal-dialog-scrollable" role="document">
    <div class="modal-content">
      
      <div class="modal-header bg-light">
        <h5 class="modal-title text-primary fw-bold">
          <i class="fas fa-table me-2"></i>{{ data?.titulo || 'Vista Previa' }}
        </h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="cerrar()"></button>
      </div>

      <div class="modal-body">
        <p class="text-muted mb-3 small">
          <i class="fas fa-info-circle me-1"></i> Vista previa de los datos generados.
        </p>
        
        <div class="table-responsive border rounded">
          <table class="table table-striped table-hover mb-0">
            <thead class="table-light">
              <tr>
                <th *ngFor="let header of data?.headers" class="fw-semibold text-nowrap">
                  {{ header }}
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let row of data?.rows">
                <td *ngFor="let cell of row">{{ cell }}</td>
              </tr>
              
              <tr *ngIf="!data?.rows?.length">
                <td [attr.colspan]="data?.headers?.length || 1" class="text-center py-4 text-muted">
                  No hay datos para mostrar.
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="cerrar()">
          Cerrar
        </button>
        </div>

    </div>
  </div>
</div>